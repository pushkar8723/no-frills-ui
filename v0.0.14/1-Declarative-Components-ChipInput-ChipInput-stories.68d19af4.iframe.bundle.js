"use strict";(self.webpackChunkno_frills_ui=self.webpackChunkno_frills_ui||[]).push([[8876],{"./src/components/Chip/Chip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_emotion_styled__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),_icons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/icons/Close.tsx"),_shared_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/constants.ts");const Container=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_2__.A)("span",{target:"e3nd8sw0"})("padding:5px;padding-left:15px;border-radius:16px;background-color:",(0,_shared_constants__WEBPACK_IMPORTED_MODULE_4__.nv)(_shared_constants__WEBPACK_IMPORTED_MODULE_4__.eS.BORDER_LIGHT_COLOR),";display:inline-flex;margin:5px;line-height:20px;align-items:center;"),Button=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_2__.A)("button",{target:"e3nd8sw1"})("color:",(0,_shared_constants__WEBPACK_IMPORTED_MODULE_4__.nv)(_shared_constants__WEBPACK_IMPORTED_MODULE_4__.eS.BACKGROUND),";background-color:",(0,_shared_constants__WEBPACK_IMPORTED_MODULE_4__.nv)(_shared_constants__WEBPACK_IMPORTED_MODULE_4__.eS.DISABLED),";border-radius:50%;border:none;padding:4px;display:inline-flex;margin-left:5px;&:focus-within{outline:4px solid ",(0,_shared_constants__WEBPACK_IMPORTED_MODULE_4__.nv)(_shared_constants__WEBPACK_IMPORTED_MODULE_4__.eS.ERROR_LIGHT),";}");function ChipComponent(props,ref){const{label,onCloseClick,closeButtonAriaLabel,...rest}=props;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(Container,{...rest,ref,onKeyUp:e=>{"Backspace"!==e.key&&"Delete"!==e.key||onCloseClick?.(e)},children:[label,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Button,{type:"button",onClick:onCloseClick,onKeyDown:e=>{" "!==e.key&&"Spacebar"!==e.key&&"Enter"!==e.key||e.stopPropagation()},"aria-label":closeButtonAriaLabel??`Remove ${label}`,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icons__WEBPACK_IMPORTED_MODULE_3__.A,{height:16,width:16})})]})}const Chip=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(ChipComponent),__WEBPACK_DEFAULT_EXPORT__=Chip;try{Chip.displayName="Chip",Chip.__docgenInfo={description:"",displayName:"Chip",props:{label:{defaultValue:null,description:"Label for the chip",name:"label",required:!0,type:{name:"string"}},onCloseClick:{defaultValue:null,description:"Callback when the close button is clicked",name:"onCloseClick",required:!1,type:{name:"((e: KeyboardEvent<Element> | MouseEvent<Element, MouseEvent>) => void)"}},closeButtonAriaLabel:{defaultValue:null,description:'Aria label for the close button. Defaults to "Remove {label}"',name:"closeButtonAriaLabel",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Chip/Chip.tsx#Chip"]={docgenInfo:Chip.__docgenInfo,name:"Chip",path:"src/components/Chip/Chip.tsx#Chip"})}catch(__react_docgen_typescript_loader_error){}},"./src/icons/Close.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Close});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");function Close(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg",{height:"24",viewBox:"0 0 24 24",width:"24",fill:"currentColor",...props,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"})]})}try{Close.displayName="Close",Close.__docgenInfo={description:"",displayName:"Close",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/icons/Close.tsx#Close"]={docgenInfo:Close.__docgenInfo,name:"Close",path:"src/icons/Close.tsx#Close"})}catch(__react_docgen_typescript_loader_error){}},"./stories/1-Declarative Components/ChipInput/ChipInput.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,Variants:()=>Variants,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ChipInput_stories});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),emotion_styled_browser_esm=__webpack_require__("./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),constants=__webpack_require__("./src/shared/constants.ts"),Chip=__webpack_require__("./src/components/Chip/Chip.tsx"),DragAndDrop=__webpack_require__("./src/components/DragAndDrop/DragAndDrop.tsx"),types=__webpack_require__("./src/components/DragAndDrop/types.ts");const Container=(0,emotion_styled_browser_esm.A)("div",{target:"e7l19410"})("margin:10px 5px;"),Label=(0,emotion_styled_browser_esm.A)("label",{target:"e7l19411"})("display:inline-flex;flex-direction:column;flex:1;position:relative;color:inherit;padding:0 8px;border-radius:3px;border:1px solid ",(0,constants.nv)(constants.eS.BORDER_COLOR),";background-color:",(0,constants.nv)(constants.eS.BACKGROUND),";width:",props=>"number"==typeof props.width?`${props.width}px`:props.width||"250px",";max-width:100%;&:has(:focus),&:has(:active){border-color:",(0,constants.nv)(constants.eS.PRIMARY),";box-shadow:0 0 0 4px ",(0,constants.nv)(constants.eS.PRIMARY_LIGHT),";}&:has(:focus) > span,&:has(:active) > span{color:",(0,constants.nv)(constants.eS.PRIMARY),";}&:has(:disabled){border-color:",(0,constants.nv)(constants.eS.DISABLED_BORDER),";background-color:",(0,constants.nv)(constants.eS.DISABLED_BACKGROUND),";}&:has(:disabled) > span{color:",(0,constants.nv)(constants.eS.DISABLED),";}&:has(:focus:invalid){border-color:",(0,constants.nv)(constants.eS.ERROR),";box-shadow:0 0 0 4px ",(0,constants.nv)(constants.eS.ERROR_LIGHT),";}",props=>props.touched?`\n        &:has(:invalid) {\n            border-color: ${(0,constants.nv)(constants.eS.ERROR)};\n        }\n    \n        &:has(:invalid) > span {\n            color: ${(0,constants.nv)(constants.eS.ERROR)};\n        }\n        `:"","    \n    ",props=>props.errorText?`\n        border-color: ${(0,constants.nv)(constants.eS.ERROR)};\n\n        & > span {\n            color: ${(0,constants.nv)(constants.eS.ERROR)};\n        }\n        `:"","    \n    ",props=>props.required?`& > span:after {\n                content: '*';\n                margin-left: 2px;\n                color: ${(0,constants.nv)(constants.eS.ERROR)};\n            }`:"","    \n\n    & > input{border:none;outline:none;line-height:30px;min-height:30px;max-width:95%;}& > span{position:absolute;padding:0 5px;top:0px;left:4px;font-size:14px;line-height:32px;transition:all 300ms ease;}&:has(:focus) > span,&:has(:placeholder-shown) > span{top:-8px;background:",(0,constants.nv)(constants.eS.BACKGROUND),";font-size:12px;line-height:14px;}",props=>""!==props.text?`\n    & > span {\n        top: -8px;\n        background: ${(0,constants.nv)(constants.eS.BACKGROUND)};\n        font-size: 12px;\n        line-height: 14px;\n    }\n    `:""),ErrorContainer=(0,emotion_styled_browser_esm.A)("div",{target:"e7l19412"})("color:",(0,constants.nv)(constants.eS.ERROR),";padding-top:3px;font-size:12px;line-height:14px;margin-left:3px;"),VisuallyHidden=(0,emotion_styled_browser_esm.A)("ul",{target:"e7l19413"})("position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0;& li{list-style:none;}");function ChipInputComponent(props,ref){const{value:propValue=[],onChange:onChangeCallback,label,errorText,closeButtonAriaLabel="Remove {:label}",addedAnnouncementTemplate="{:label} was added",removedAnnouncementTemplate="{:label} was removed",width,...inputProps}=props,[text,setText]=(0,react.useState)(""),[touched,setTouched]=(0,react.useState)(!1),[value,setValue]=(0,react.useState)(propValue||[]),InputRef=react.useRef(null),[announcement,setAnnouncement]=(0,react.useState)(""),errorId=(0,react.useId)();(0,react.useImperativeHandle)(ref,()=>InputRef.current);const replacePlaceholder=(template,label)=>{if(template)return template.replace(/\{:label\}/g,label)},prevPropValueRef=react.useRef(void 0);(0,react.useEffect)(()=>{if(Array.isArray(propValue)){const prevValue=prevPropValueRef.current;prevValue&&propValue.length===prevValue.length&&propValue.every((val,index)=>val===prevValue[index])||(setValue(propValue),prevPropValueRef.current=propValue)}},[propValue]),(0,react.useEffect)(()=>{InputRef.current&&InputRef.current.setCustomValidity(errorText||"")},[errorText]);const updateValue=newValue=>{const deduped=Array.from(new Set(newValue));setValue(deduped),onChangeCallback?.(deduped)};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(Container,{children:[(0,jsx_runtime.jsxs)(Label,{text,touched,errorText,required:inputProps.required,width,children:[(0,jsx_runtime.jsx)("input",{...inputProps,ref:InputRef,value:text,onChange:e=>{setText(e.target.value)},onFocus:e=>{setTouched(!0),inputProps.onFocus&&inputProps.onFocus(e)},onKeyDown:e=>{if("Enter"===e.key){let isValid;if(InputRef.current&&(InputRef.current.setCustomValidity(""),isValid=InputRef.current.checkValidity(),InputRef.current.setCustomValidity(errorText||"")),""!==text.trim()&&isValid){e.preventDefault(),e.stopPropagation();const newValue=[...value,text.trim()];updateValue(newValue),setText(""),setAnnouncement(replacePlaceholder(addedAnnouncementTemplate,text.trim()))}}},required:inputProps.required&&0===value.length,"aria-required":inputProps.required,"aria-invalid":!!errorText,"aria-describedby":errorText?errorId:void 0}),(0,jsx_runtime.jsx)("div",{children:value?.length>0&&(0,jsx_runtime.jsx)(DragAndDrop.A,{orientation:types.j.HORIZONTAL,onDrop:(start,end)=>{const newItems=[...value],item=newItems.splice(start,1);newItems.splice(end,0,item[0]),updateValue(newItems)},children:value.map(chip=>(0,jsx_runtime.jsx)(Chip.A,{label:chip,onCloseClick:()=>(chipToRemove=>{const newValue=value.filter(chip=>chip!==chipToRemove);updateValue(newValue),setAnnouncement(replacePlaceholder(removedAnnouncementTemplate,chipToRemove))})(chip),closeButtonAriaLabel:replacePlaceholder(closeButtonAriaLabel,chip)},chip))})}),(0,jsx_runtime.jsx)("span",{children:label})]}),errorText&&(0,jsx_runtime.jsx)(ErrorContainer,{id:errorId,children:errorText})]}),(0,jsx_runtime.jsx)(VisuallyHidden,{"aria-live":"polite","aria-atomic":"true",children:announcement})]})}const ChipInput=react.forwardRef(ChipInputComponent),ChipInput_ChipInput=ChipInput;try{ChipInput.displayName="ChipInput",ChipInput.__docgenInfo={description:"",displayName:"ChipInput",props:{label:{defaultValue:null,description:"Label for the field",name:"label",required:!1,type:{name:"string"}},errorText:{defaultValue:null,description:"Error message for the field",name:"errorText",required:!1,type:{name:"string"}},value:{defaultValue:{value:"[]"},description:"Values to display as chips",name:"value",required:!1,type:{name:"string[]"}},onChange:{defaultValue:null,description:"Callback when chips change",name:"onChange",required:!1,type:{name:"((newValue: string[]) => void)"}},closeButtonAriaLabel:{defaultValue:{value:'"Remove {:label}"'},description:'Aria label for the close button on chip. Defaults to "Remove {:label}"',name:"closeButtonAriaLabel",required:!1,type:{name:"string"}},addedAnnouncementTemplate:{defaultValue:{value:'"{:label} was added"'},description:'Announcement text when a chip is added. Defaults to "{:label} was added"',name:"addedAnnouncementTemplate",required:!1,type:{name:"string"}},removedAnnouncementTemplate:{defaultValue:{value:'"{:label} was removed"'},description:'Announcement text when a chip is removed. Defaults to "{:label} was removed"',name:"removedAnnouncementTemplate",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ChipInput/ChipInput.tsx#ChipInput"]={docgenInfo:ChipInput.__docgenInfo,name:"ChipInput",path:"src/components/ChipInput/ChipInput.tsx#ChipInput"})}catch(__react_docgen_typescript_loader_error){}const ChipInput_stories={component:ChipInput_ChipInput,title:"Declarative Components/ChipInput",tags:["!dev","!autodocs"]},Primary={args:{label:"Enter your Skills"}},Variants={render:()=>(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(ChipInput_ChipInput,{label:"Enter your Skills",required:!0})}),parameters:{docs:{source:{code:'<ChipInput label="Enter your Skills" required />'}}}},__namedExportsOrder=["Primary","Variants"];Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"{\n  args: {\n    label: 'Enter your Skills'\n  }\n}",...Primary.parameters?.docs?.source}}},Variants.parameters={...Variants.parameters,docs:{...Variants.parameters?.docs,source:{originalSource:'{\n  render: () => <div>\n            <ChipInput label="Enter your Skills" required />\n        </div>,\n  parameters: {\n    docs: {\n      source: {\n        code: `<ChipInput label="Enter your Skills" required />`\n      }\n    }\n  }\n}',...Variants.parameters?.docs?.source}}}}}]);