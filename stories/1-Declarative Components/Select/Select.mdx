import { Meta, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as SelectStories from './Select.stories';

<Meta of={SelectStories} />

# Select

Wraps `HTMLSelectElement` in a React component to give additional `label` and `errorText` props.

A `*` is added to the label if the field is required.

Though `HTMLSelectElement` supports `multiple` parameter, I override it in this component to `false`. Because I
personally feel that the interaction is not intuitive for the user. So, this elements works only as a
single select input.

<Canvas of={SelectStories.Variants} />

```jsx
import { Select } from 'no-frills-ui';

// Render
<Select label="Gender" required>
    <option value="M">Male</option>
    <option value="F">Female</option>
    <option value="T">Transgender</option>
    <option value="N">Don&apos;t want to specify</option>
</Select>;
```

## Props and Ref

All `props` and `ref` are forwarded to the native `select` element.
Following props are added on top of `HTMLSelectElement` props.

<Controls of={SelectStories.Primary} />

## CSS Variables Used

| Variable Name                | Description                           |
| :--------------------------- | :------------------------------------ |
| `--nfui-primary`             | Used for `color` and `border-color`.  |
| `--nfui-primary-light`       | Used for `box-shadow`.                |
| `--nfui-error`               | Used for `color` and `border-color`.  |
| `--nfui-error-light`         | Used for `box-shadow`.                |
| `--nfui-background`          | Used for `background-color`.          |
| `--nfui-border-color`        | Used for `border-color`.              |
| `--nfui-disabled-border`     | Used for disabled `border-color`.     |
| `--nfui-disabled-background` | Used for disabled `background-color`. |
| `--nfui-disabled`            | Used for disabled `color`.            |

## Accessibility

The Select component is fully compliant with WCAG 2.1 AA guidelines:

- **Label Association**: The label is implicitly associated with the select element through nesting within the `<label>` element.
- **Error Messaging**: Error text is programmatically linked to the select via `aria-describedby`, ensuring screen readers announce validation messages.
- **Invalid State**: The `aria-invalid` attribute is automatically set when `errorText` is provided, alerting assistive technologies to validation errors.
- **Required Fields**: The `aria-required` attribute is added when the select is marked as required, providing semantic indication beyond visual asterisks.
- **Keyboard Navigation**: Full keyboard support is maintained through native select element behavior.
- **Decorative Icon**: The dropdown arrow icon is properly hidden from screen readers using `aria-hidden="true"`.
