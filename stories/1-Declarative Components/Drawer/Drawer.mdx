import { Meta, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as DrawerStories from './Drawer.stories';

<Meta of={DrawerStories} />

# Drawer

This is similar to `Modal` component but it slides in from one of the three edges (left, right and bottom).

<div>{DrawerStories.Demo.render()}</div>

```jsx
import { useState } from 'react';
import { Drawer, DrawerHeader, DrawerBody, DrawerFooter, DRAWER_POSITION } from 'no-frills-ui';

const [open, setOpen] = useState(false);

<Drawer open={open} onClose={() => setOpen(false)} position={DRAWER_POSITION.LEFT}>
    <DrawerHeader>Header goes here</DrawerHeader>
    <DrawerBody>Here goes body.</DrawerBody>
    <DrawerFooter>And footer over here.</DrawerFooter>
</Drawer>;
```

## Props and ref

A `forwardRef` prop is used to get the `ref` of `div` element which contains the drawer and the overlay.
All `props` are forwarded to native `div` element. Following props are added on top of `HTMLDivElement` props.

<Controls of={DrawerStories.Primary} />

## CSS Variables used

| Variable Name           | Description                            |
| :---------------------- | :------------------------------------- |
| `--nfui-backdrop-color` | Used for `background-color` (overlay). |
| `--nfui-modal-shadow`   | Used for `box-shadow`.                 |
| `--nfui-background`     | Used for `background-color`.           |

## Accessibility

The Drawer component is designed to be **WCAG 2.1 AA compliant**. It follows the [WAI-ARIA Dialog (Modal)](https://www.w3.org/WAI/ARIA/apg/patterns/dialog-modal/) pattern.

### ARIA Attributes

- **Role**: The drawer is identified as a dialog using `role="dialog"`.
- **Modal**: The `aria-modal="true"` attribute is used to indicate that the drawer is modal and traps focus.

### Focus Management

- **Focus Trap**: When the drawer is open, focus is constrained within the drawer to prevent users from interacting with the background content.
- **Initial Focus**: Focus is automatically set to the first focusable element inside the drawer when it opens.
- **Focus Restoration**: When the drawer is closed, focus is restored to the element that triggered the drawer.

### Keyboard Support

| Key   | Action                                     |
| :---- | :----------------------------------------- |
| `Esc` | Closes the drawer and restores focus.      |
| `Tab` | Moves focus to the next focusable element. |
