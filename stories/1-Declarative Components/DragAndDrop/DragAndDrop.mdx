import { Meta, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as DragAndDropStories from './DragAndDrop.stories';

<Meta of={DragAndDropStories} />

# DragAndDrop

`DragAndDrop` is a controlled component and will require `onDrop` prop to function properly.
It can be used to create a rearrangeable list. It supports both vertical and horizontal orientation for the list.

Additionally, there is a `showIndicator` prop which shows an indicator against the component and the list item
can only be dragged using this indicator when this prop is set to true. This can be used in case the item to be dragged
has some mouse events of its own and we require an explicit user input for drag to handle such case.

> **Limitation**: Currently drag across list is not supported.

## Vertical Layout

<Canvas of={DragAndDropStories.VerticalLayout} className="canvas-background-alternate" />

## Horizontal Layout

<Canvas of={DragAndDropStories.HorizontalLayout} className="canvas-background-alternate" />

## Horizontal Layout with indicators

<Canvas of={DragAndDropStories.HorizontalWithIndicators} className="canvas-background-alternate" />

```jsx
import React, { useState } from 'react';
import { DragAndDrop, ORIENTATION } from 'no-frills-ui';

export default function DragAndDropDemo(prop) {
    const [items, setItems] = useState(['Item #1', 'Item #2', 'Item #3', 'Item #4', 'Item #5']);

    const onDrop = (start, end) => {
        // Clone existing elements
        const newItems = [...items];
        // Remove the element to be moved
        const item = newItems.splice(start, 1);
        // Add it back at the required position
        newItems.splice(end, 0, item[0]);
        // Update
        setItems(newItems);
    }

    return (<DragAndDrop orientation={ORIENTATION.VERTICAL} onDrop={onDrop}>
        {items.map(item => <div>{item}</div>)}
    </DragAndDrop>)
}
```

### Props

<Controls of={DragAndDropStories.Primary} />

### CSS Variables used

| Variable Name | Description |
| :- | :- |
| --disabled | Used for `color`. |
