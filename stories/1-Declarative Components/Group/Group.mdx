import { Meta, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as GroupStories from './Group.stories';

<Meta of={GroupStories} />

# Group

This component groups multiple `inputs` / `buttons` / `labels` together.

I find this a better solution for grouping elements instead of having `prefix` and `suffix` props. Also, it
solves the problem of grouping more than 2 components. Only demerit of going by this method is an extra `errorText`
prop is needed to be exposed at group level and the individual component's `errorText` cannot be used.

A `GroupLabel` component is available for prepending / appending label to the group.

Currently, `Group` component is compatible with `Input`, `Select`, `Dropdown` and `Buttons`.

**Multiple components**

<Canvas of={GroupStories.MultipleComponents} />

**Group Label at start**

<Canvas of={GroupStories.GroupLabelStart} />

**Group Label at end**

<Canvas of={GroupStories.GroupLabelEnd} />

**Error Text**

<Canvas of={GroupStories.WithErrorText} />

```jsx
import { Group, GroupLabel } from 'no-frills-ui';

// Render
<Group>
    <Input required label="Discount" />
    <GroupLabel>%</GroupLabel>
</Group>;
```

## Props and Ref

All `props` and `ref` are forwarded to native `div` element. Following `props` are available on top of `HTMLDivElement` props.

<Controls of={GroupStories.Primary} />

## CSS Variables Used

| Variable Name                | Description                               |
| :--------------------------- | :---------------------------------------- |
| `--nfui-error`               | Used for `border-color` and `color`.      |
| `--nfui-border-color`        | Used for `border-color` and `color`.      |
| `--nfui-hover-shadow`        | Used for `box-shadow`.                    |
| `--nfui-disabled-background` | Used for `background-color` (GroupLabel). |

## Accessibility

The Group component is fully compliant with WCAG 2.1 AA guidelines:

- **Error Messaging**: Group-level error text is programmatically linked to the container via `aria-describedby`, ensuring screen readers announce validation messages when users interact with any control within the group.
- **Focus Management**: Proper z-index management ensures focused elements are visible and not obscured by adjacent controls.
- **Visual Error Indication**: Border color changes provide clear visual feedback when errors are present.
- **Keyboard Navigation**: All grouped form controls maintain their native keyboard behavior and accessibility features.
- **Semantic Grouping**: While the component provides visual grouping, consider using `<fieldset>` and `<legend>` at the form level when semantic grouping with a descriptive label is needed for related form controls.
