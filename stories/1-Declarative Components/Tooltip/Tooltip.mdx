import { Meta, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as TooltipStories from './Tooltip.stories';

<Meta of={TooltipStories} />

# Tooltip

Higher order Component that adds a tooltip to the wrapped component. The default style for the div created by
HOC is `display: inline-flex`. So it shouldn't interfere with the layout, but in case it does,
style prop can be used to override this to `display: flex`.

<Canvas of={TooltipStories.Positions} />

It also supports rich tooltip but creating a rich tooltip is discouraged.

<Canvas of={TooltipStories.RichTooltip} />

```jsx
import { Tooltip, TOOLTIP_POSITION } from 'no-frills-ui';

// Render
<Tooltip tooltipText="Now you see me" position={TOOLTIP_POSITION.RIGHT}>
    <button>Hover over me</button>
</Tooltip>;
```

## Props and Ref

All `props` and `ref` are forwarded to the native `div` element.
Following props are added on top of `HTMLDivElement` props.

<Controls of={TooltipStories.Primary} />

## CSS Variables Used

| Variable Name             | Description                  |
| :------------------------ | :--------------------------- |
| `--nfui-tooltip-color`    | Used for `background-color`. |
| `--nfui-text-color-light` | Used for `color`.            |

## Accessibility

The Tooltip component is designed to meet WCAG 2.1 AA accessibility requirements:

- **Keyboard & Mouse Accessibility:**
    - Tooltip appears on both mouse hover and keyboard focus of the trigger element.
    - Tooltip is only rendered in the DOM when visible, preventing double announcement by screen readers.
- **ARIA Roles & Attributes:**
    - Tooltip uses `role="tooltip"` and a unique `id`.
    - The trigger element uses `aria-describedby` referencing the tooltip only when visible.
- **Developer Responsibilities:**
    - Ensure the trigger element is focusable (e.g., button, input, or add `tabIndex`).
    - Tooltip text should be concise and descriptive for screen readers.
